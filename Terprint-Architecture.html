<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Acidni Enterprise Architecture v2.0 | December 2025</title>
    
    <!-- Google tag (gtag.js) -->
    <script async src="https://www.googletagmanager.com/gtag/js?id=G-Y614KCC85K"></script>
    <script>
        window.dataLayer = window.dataLayer || [];
        function gtag(){dataLayer.push(arguments);}
        gtag('js', new Date());
        gtag('config', 'G-Y614KCC85K');
    </script>
    
    <script src="https://cdn.jsdelivr.net/npm/mermaid/dist/mermaid.min.js"></script>
    <style>
        :root {
            --bg-primary: #0f0f1a;
            --bg-secondary: #1a1a2e;
            --bg-tertiary: #16213e;
            --bg-card: #1e1e36;
            --text-primary: #ffffff;
            --text-secondary: #b0b0c0;
            --text-muted: #707090;
            --accent-primary: #00d4ff;
            --accent-secondary: #7c3aed;
            --accent-tertiary: #22c55e;
            --accent-warning: #f59e0b;
            --accent-danger: #ef4444;
            --border: #2a2a4a;
            --gradient-1: linear-gradient(135deg, #00d4ff 0%, #7c3aed 100%);
            --gradient-2: linear-gradient(135deg, #7c3aed 0%, #ec4899 100%);
            --gradient-3: linear-gradient(135deg, #22c55e 0%, #00d4ff 100%);
        }
        
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }
        
        body {
            font-family: 'Inter', 'Segoe UI', -apple-system, sans-serif;
            background: var(--bg-primary);
            color: var(--text-primary);
            min-height: 100vh;
            line-height: 1.7;
        }
        
        .container {
            max-width: 1600px;
            margin: 0 auto;
            padding: 40px;
        }
        
        /* Header */
        header {
            text-align: center;
            padding: 60px 0;
            background: linear-gradient(180deg, var(--bg-secondary) 0%, var(--bg-primary) 100%);
            border-bottom: 1px solid var(--border);
            margin-bottom: 50px;
        }
        
        .logo {
            font-size: 1.2rem;
            text-transform: uppercase;
            letter-spacing: 4px;
            color: var(--accent-primary);
            margin-bottom: 20px;
        }
        
        h1 {
            font-size: 3.5rem;
            font-weight: 800;
            background: var(--gradient-1);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
            margin-bottom: 15px;
            line-height: 1.2;
        }
        
        .subtitle {
            font-size: 1.3rem;
            color: var(--text-secondary);
            margin-bottom: 10px;
        }
        
        .version-badge {
            display: inline-block;
            padding: 8px 20px;
            background: var(--gradient-2);
            border-radius: 20px;
            font-size: 0.85rem;
            font-weight: 600;
            margin-top: 20px;
        }
        
        /* Navigation */
        nav {
            display: flex;
            justify-content: center;
            gap: 10px;
            flex-wrap: wrap;
            padding: 20px;
            background: var(--bg-secondary);
            border-radius: 16px;
            margin-bottom: 40px;
            border: 1px solid var(--border);
        }
        
        nav a {
            padding: 10px 20px;
            color: var(--text-secondary);
            text-decoration: none;
            border-radius: 8px;
            transition: all 0.3s ease;
            font-size: 0.9rem;
        }
        
        nav a:hover, nav a.active {
            background: var(--bg-tertiary);
            color: var(--accent-primary);
        }
        
        /* Section */
        section {
            background: var(--bg-secondary);
            border-radius: 20px;
            padding: 40px;
            margin-bottom: 40px;
            border: 1px solid var(--border);
            position: relative;
            overflow: hidden;
        }
        
        section::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            height: 3px;
            background: var(--gradient-1);
        }
        
        section h2 {
            font-size: 2rem;
            margin-bottom: 30px;
            display: flex;
            align-items: center;
            gap: 15px;
        }
        
        section h2 .icon {
            font-size: 1.5rem;
        }
        
        section h3 {
            font-size: 1.4rem;
            color: var(--accent-primary);
            margin: 30px 0 20px 0;
        }
        
        /* Cards Grid */
        .cards-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: 25px;
            margin-top: 25px;
        }
        
        .card {
            background: var(--bg-card);
            border-radius: 16px;
            padding: 30px;
            border: 1px solid var(--border);
            transition: all 0.3s ease;
        }
        
        .card:hover {
            transform: translateY(-5px);
            border-color: var(--accent-primary);
            box-shadow: 0 20px 40px rgba(0, 212, 255, 0.1);
        }
        
        .card h4 {
            font-size: 1.2rem;
            margin-bottom: 10px;
            display: flex;
            align-items: center;
            gap: 10px;
        }
        
        .card p {
            color: var(--text-secondary);
            font-size: 0.95rem;
        }
        
        .card .badge {
            display: inline-block;
            padding: 4px 12px;
            border-radius: 12px;
            font-size: 0.75rem;
            font-weight: 600;
            margin-top: 15px;
        }
        
        .badge-active { background: #22c55e30; color: #22c55e; }
        .badge-new { background: #00d4ff30; color: #00d4ff; }
        .badge-planning { background: #f59e0b30; color: #f59e0b; }
        .badge-enterprise { background: #7c3aed30; color: #7c3aed; }
        
        /* Stats Grid */
        .stats-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 20px;
            margin: 30px 0;
        }
        
        .stat-card {
            background: var(--bg-tertiary);
            border-radius: 16px;
            padding: 25px;
            text-align: center;
            border: 1px solid var(--border);
        }
        
        .stat-card .number {
            font-size: 3rem;
            font-weight: 800;
            background: var(--gradient-1);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
        }
        
        .stat-card .label {
            color: var(--text-secondary);
            font-size: 0.9rem;
            margin-top: 5px;
        }
        
        /* Diagram Container */
        .diagram-container {
            background: var(--bg-tertiary);
            border-radius: 16px;
            padding: 30px;
            margin: 25px 0;
            overflow-x: auto;
            border: 1px solid var(--border);
        }
        
        .mermaid {
            display: flex;
            justify-content: center;
        }
        
        /* Tables */
        table {
            width: 100%;
            border-collapse: collapse;
            margin: 20px 0;
        }
        
        th, td {
            padding: 15px 20px;
            text-align: left;
            border-bottom: 1px solid var(--border);
        }
        
        th {
            background: var(--bg-tertiary);
            color: var(--accent-primary);
            font-weight: 600;
            font-size: 0.9rem;
            text-transform: uppercase;
            letter-spacing: 1px;
        }
        
        tr:hover {
            background: rgba(0, 212, 255, 0.05);
        }
        
        td code {
            background: var(--bg-tertiary);
            padding: 4px 10px;
            border-radius: 6px;
            font-family: 'JetBrains Mono', 'Consolas', monospace;
            font-size: 0.85rem;
            color: var(--accent-tertiary);
        }
        
        /* Code Blocks */
        pre {
            background: var(--bg-tertiary);
            border-radius: 12px;
            padding: 20px;
            overflow-x: auto;
            border: 1px solid var(--border);
            margin: 15px 0;
        }
        
        pre code {
            font-family: 'JetBrains Mono', 'Consolas', monospace;
            font-size: 0.9rem;
            color: var(--text-primary);
        }
        
        /* Lists */
        ul, ol {
            margin-left: 25px;
            margin-bottom: 15px;
        }
        
        li {
            margin: 10px 0;
            color: var(--text-secondary);
        }
        
        li strong {
            color: var(--text-primary);
        }
        
        /* Feature Highlight */
        .feature-highlight {
            background: linear-gradient(135deg, rgba(0, 212, 255, 0.1) 0%, rgba(124, 58, 237, 0.1) 100%);
            border-left: 4px solid var(--accent-primary);
            padding: 25px 30px;
            border-radius: 0 16px 16px 0;
            margin: 25px 0;
        }
        
        .feature-highlight h4 {
            color: var(--accent-primary);
            margin-bottom: 10px;
        }
        
        /* Timeline */
        .timeline {
            position: relative;
            padding-left: 40px;
        }
        
        .timeline::before {
            content: '';
            position: absolute;
            left: 15px;
            top: 0;
            bottom: 0;
            width: 2px;
            background: var(--gradient-1);
        }
        
        .timeline-item {
            position: relative;
            padding: 20px 0;
        }
        
        .timeline-item::before {
            content: '';
            position: absolute;
            left: -33px;
            top: 25px;
            width: 12px;
            height: 12px;
            border-radius: 50%;
            background: var(--accent-primary);
            border: 3px solid var(--bg-secondary);
        }
        
        .timeline-item h4 {
            color: var(--accent-primary);
            margin-bottom: 5px;
        }
        
        /* Footer */
        footer {
            text-align: center;
            padding: 50px;
            border-top: 1px solid var(--border);
            margin-top: 60px;
            color: var(--text-secondary);
        }
        
        footer .copyright {
            font-size: 0.9rem;
        }
        
        /* Responsive */
        @media (max-width: 768px) {
            .container { padding: 20px; }
            h1 { font-size: 2.2rem; }
            section { padding: 25px; }
            .cards-grid { grid-template-columns: 1fr; }
        }
    </style>
</head>
<body>
    <div class="container">
        <header>
            <div class="logo">Acidni, LLC</div>
            <h1>Enterprise Architecture</h1>
            <p class="subtitle">Terprint Platform with Shared Services & CMMI Governance</p>
            <span class="version-badge">Version 2.1 | December 2025</span>
        </header>
        
        <nav>
            <a href="#overview" class="active">Overview</a>
            <a href="#enterprise">Enterprise</a>
            <a href="#products">Products</a>
            <a href="#shared-services">Shared Services</a>
            <a href="#terprint">Terprint</a>
            <a href="#tech-stack">Tech Stack</a>
            <a href="#devops">DevOps</a>
            <a href="#governance">Governance</a>
        </nav>
        
        <!-- Executive Overview -->
        <section id="overview">
            <h2><span class="icon">üè¢</span> Executive Overview</h2>
            
            <p style="font-size: 1.1rem; margin-bottom: 30px;">
                Acidni is a technology company building enterprise-grade SaaS platforms with a focus on data-driven solutions. 
                Our architecture enables rapid product development through shared services, standardized governance, and reusable infrastructure.
            </p>
            
            <div class="stats-grid">
                <div class="stat-card">
                    <div class="number">1</div>
                    <div class="label">Product</div>
                </div>
                <div class="stat-card">
                    <div class="number">22+</div>
                    <div class="label">Microservices</div>
                </div>
                <div class="stat-card">
                    <div class="number">5</div>
                    <div class="label">Shared Services</div>
                </div>
                <div class="stat-card">
                    <div class="number">15+</div>
                    <div class="label">Azure Services</div>
                </div>
                <div class="stat-card">
                    <div class="number">99.9%</div>
                    <div class="label">Uptime Target</div>
                </div>
            </div>
            
            <div class="feature-highlight">
                <h4>üÜï What's New in v2.1</h4>
                <ul>
                    <li><strong>Enterprise Architecture:</strong> Configuration inheritance model for scalable product management</li>
                    <li><strong>Shared Services:</strong> Communications, API Gateway, Marketplace at enterprise level</li>
                    <li><strong>CMMI Governance:</strong> Level 3 aligned processes and KPIs</li>
                    <li><strong>Entra ID App-to-App Auth:</strong> Service mesh authentication pattern</li>
                </ul>
            </div>
        </section>
        
        <!-- Enterprise Architecture -->
        <section id="enterprise">
            <h2><span class="icon">üèóÔ∏è</span> Enterprise Architecture</h2>
            
            <h3>Configuration Inheritance Model</h3>
            <div class="diagram-container">
                <div class="mermaid">
graph TB
    subgraph Enterprise["‚öôÔ∏è Enterprise Layer (acidni-config)"]
        EC[enterprise.yaml<br/>Required Settings]
        ED[Enterprise Defaults]
        SS[Shared Services Config]
    end
    
    subgraph Products["üì¶ Product Layer"]
        subgraph Terprint["Terprint"]
            TC[terprint/config.yaml]
            TCS[Terprint Components]
        end
        
        subgraph Future["Future Products"]
            FP[product-template/]
        end
    end
    
    subgraph SharedServices["üîó Shared Services"]
        COMM[Communications API]
        APIM[API Gateway]
        MKT[Marketplace]
        ID[Identity]
        OBS[Observability]
    end
    
    EC --> TC
    EC --> FP
    ED --> TC
    SS --> SharedServices
    
    TC --> TCS
    
    TCS --> COMM
    TCS --> APIM
    TCS --> MKT
    TCS --> ID
                </div>
            </div>
            
            <h3>Enterprise Configuration Hierarchy</h3>
            <table>
                <thead>
                    <tr>
                        <th>Level</th>
                        <th>File</th>
                        <th>Purpose</th>
                        <th>Override?</th>
                    </tr>
                </thead>
                <tbody>
                    <tr>
                        <td>Enterprise</td>
                        <td><code>enterprise.yaml</code></td>
                        <td>Required standards (security, cloud, devops)</td>
                        <td>‚ùå No</td>
                    </tr>
                    <tr>
                        <td>Enterprise</td>
                        <td><code>defaults</code> section</td>
                        <td>Default tech choices (can be overridden)</td>
                        <td>‚úÖ Yes</td>
                    </tr>
                    <tr>
                        <td>Product</td>
                        <td><code>product.yaml</code></td>
                        <td>Product-specific settings</td>
                        <td>Inherits + Extends</td>
                    </tr>
                    <tr>
                        <td>Component</td>
                        <td><code>config.json</code></td>
                        <td>Component runtime config</td>
                        <td>Scoped to component</td>
                    </tr>
                </tbody>
            </table>
            
            <h3>Namespace Strategy</h3>
            <table>
                <thead>
                    <tr>
                        <th>Type</th>
                        <th>Pattern</th>
                        <th>Example</th>
                    </tr>
                </thead>
                <tbody>
                    <tr>
                        <td>Python Package</td>
                        <td><code>acidni.{product}.{module}</code></td>
                        <td><code>acidni.terprint.config</code></td>
                    </tr>
                    <tr>
                        <td>.NET Namespace</td>
                        <td><code>Acidni.{Product}.{Module}</code></td>
                        <td><code>Acidni.Terprint.Web</code></td>
                    </tr>
                    <tr>
                        <td>Azure Resource</td>
                        <td><code>{type}-{env}-{product}-{service}</code></td>
                        <td><code>func-dev-terprint-ai-chat</code></td>
                    </tr>
                    <tr>
                        <td>Resource Group</td>
                        <td><code>rg-{env}-{product}-{purpose}</code></td>
                        <td><code>rg-dev-terprint-shared</code></td>
                    </tr>
                    <tr>
                        <td>DevOps Repository</td>
                        <td><code>{product}-{component}</code></td>
                        <td><code>terprint-ai-chat</code></td>
                    </tr>
                </tbody>
            </table>
        </section>
        
        <!-- Products -->
        <section id="products">
            <h2><span class="icon">üì¶</span> Product Portfolio</h2>
            
            <div class="cards-grid">
                <div class="card">
                    <h4>üî¨ Terprint</h4>
                    <p>Cannabis product intelligence platform. Data aggregation, COA extraction, terpene fingerprinting, and AI-powered recommendations for Florida dispensaries.</p>
                    <span class="badge badge-active">Active</span>
                </div>
                <div class="card">
                    <h4> Future Products</h4>
                    <p>New products can be created using the product-template with standardized structure, shared services access, and inherited enterprise configuration.</p>
                    <span class="badge badge-enterprise">Enterprise Ready</span>
                </div>
            </div>
        </section>
        
        <!-- Shared Services -->
        <section id="shared-services">
            <h2><span class="icon">üîó</span> Shared Services</h2>
            
            <p style="margin-bottom: 25px;">Enterprise-level services consumed by all products. Each service is product-agnostic and supports multi-tenancy.</p>
            
            <div class="cards-grid">
                <div class="card">
                    <h4>üìß Communications</h4>
                    <p>Unified email and SMS messaging via Azure Communication Services. Supports templates, tracking, and delivery reports.</p>
                    <span class="badge badge-active">Active</span>
                </div>
                <div class="card">
                    <h4>üåê API Gateway</h4>
                    <p>Azure API Management for centralized API routing, throttling, authentication, and analytics across all products.</p>
                    <span class="badge badge-active">Active</span>
                </div>
                <div class="card">
                    <h4>üè™ Marketplace</h4>
                    <p>Azure Marketplace integration for SaaS licensing, subscription management, metering, and billing.</p>
                    <span class="badge badge-active">Active</span>
                </div>
                <div class="card">
                    <h4>üîê Identity</h4>
                    <p>Azure Entra ID for user authentication, B2B federation, and role-based access control (RBAC).</p>
                    <span class="badge badge-active">Active</span>
                </div>
                <div class="card">
                    <h4>üìä Observability</h4>
                    <p>Application Insights, Log Analytics, and custom health dashboard for monitoring, alerting, and KPI tracking.</p>
                    <span class="badge badge-active">Active</span>
                </div>
            </div>
            
            <h3>Shared Services Architecture</h3>
            <div class="diagram-container">
                <div class="mermaid">
graph TB
    subgraph Products["Products"]
        TP[Terprint]
        FP[Future Products]
    end
    
    subgraph SharedServices["üîó Enterprise Shared Services"]
        subgraph Comm["üìß Communications"]
            CAPI[API Endpoints]
            ACS[Azure Comm Services]
        end
        
        subgraph Gateway["üåê API Gateway"]
            APIM[Azure APIM]
            Policies[Rate Limiting<br/>Auth<br/>Routing]
        end
        
        subgraph Market["üè™ Marketplace"]
            SUB[Subscriptions]
            METER[Metering]
            WEBHOOK[Webhooks]
        end
        
        subgraph Identity["üîê Identity"]
            ENTRA[Entra ID]
            B2B[B2B Federation]
            RBAC[RBAC Roles]
        end
        
        subgraph Observe["üìä Observability"]
            AI[App Insights]
            LA[Log Analytics]
            DASH[Health Dashboard]
        end
    end
    
    TP --> Gateway
    FP --> Gateway
    
    Gateway --> Comm
    Gateway --> Market
    Gateway --> Observe
    
    TP -.-> Identity
    FP -.-> Identity
                </div>
            </div>
        </section>
        
        <!-- Terprint Deep Dive -->
        <section id="terprint">
            <h2><span class="icon">üî¨</span> Terprint Platform</h2>
            
            <p style="margin-bottom: 25px;">
                Cannabis product intelligence platform providing data aggregation, COA extraction, and AI-powered analytics 
                for Florida medical marijuana dispensaries.
            </p>
            
            <h3>System Components</h3>
            <div class="diagram-container">
                <div class="mermaid">
graph TB
    subgraph DataSources["üè™ Data Sources"]
        D1[Trulieve]
        D2[Curaleaf]
        D3[M√úV]
        D4[Flowery]
        D5[Cookies]
        D6[Sunnyside]
    end
    
    subgraph DataPipeline["‚öôÔ∏è Data Pipeline"]
        MD[Menu Downloader<br/>Timer Trigger]
        BP[Batch Processor<br/>COA Extraction]
        CE[COA Extractor<br/>PDF Parsing]
    end
    
    subgraph Storage["üíæ Storage"]
        BLOB[Blob Storage<br/>Raw JSON]
        KQL[Event House<br/>Kusto/KQL]
        SQL[Azure SQL<br/>Marketplace]
    end
    
    subgraph AIServices["ü§ñ AI Services"]
        CHAT[AI Chat<br/>RAG System]
        REC[AI Recommender]
        DEALS[AI Deals]
        LAB[AI Lab Analyst]
        HEALTH[Health Monitor]
    end
    
    subgraph Presentation["üìä Presentation"]
        WEB[Blazor Website]
        PBI[Power BI Reports]
        VIS[Custom Visuals]
    end
    
    subgraph Support["üîå Support Services"]
        COMM[Communications]
        METER[Metering]
        LOG[Logger]
    end
    
    DataSources --> MD
    MD --> BLOB
    MD --> BP
    BP --> CE
    CE --> KQL
    
    KQL --> CHAT
    KQL --> REC
    KQL --> DEALS
    KQL --> WEB
    KQL --> PBI
    
    CHAT --> WEB
    REC --> WEB
    
    WEB --> COMM
    WEB --> METER
    
    HEALTH --> AIServices
    LOG --> AIServices
                </div>
            </div>
            
            <h3>Component Registry</h3>
            <table>
                <thead>
                    <tr>
                        <th>Category</th>
                        <th>Component</th>
                        <th>Type</th>
                        <th>Status</th>
                    </tr>
                </thead>
                <tbody>
                    <tr>
                        <td>Core</td>
                        <td><code>terprint-config</code></td>
                        <td>Python Package</td>
                        <td>‚úÖ v4.0.1</td>
                    </tr>
                    <tr>
                        <td>Core</td>
                        <td><code>Terprint.Web</code></td>
                        <td>Blazor Server</td>
                        <td>‚úÖ Active</td>
                    </tr>
                    <tr>
                        <td>Data</td>
                        <td><code>terprint-menudownloader</code></td>
                        <td>Azure Function</td>
                        <td>‚úÖ Active</td>
                    </tr>
                    <tr>
                        <td>Data</td>
                        <td><code>terprint-batch-processor</code></td>
                        <td>Azure Function</td>
                        <td>‚úÖ Active</td>
                    </tr>
                    <tr>
                        <td>AI</td>
                        <td><code>terprint-ai-chat</code></td>
                        <td>Azure Function</td>
                        <td>‚úÖ Active</td>
                    </tr>
                    <tr>
                        <td>AI</td>
                        <td><code>terprint-ai-recommender</code></td>
                        <td>Azure Function</td>
                        <td>‚úÖ Active</td>
                    </tr>
                    <tr>
                        <td>AI</td>
                        <td><code>terprint-ai-deals</code></td>
                        <td>Azure Function</td>
                        <td>‚úÖ Active</td>
                    </tr>
                    <tr>
                        <td>AI</td>
                        <td><code>terprint-ai-health</code></td>
                        <td>Azure Function + Dashboard</td>
                        <td>‚úÖ Active</td>
                    </tr>
                    <tr>
                        <td>Analytics</td>
                        <td><code>terprint-powerbi-visuals</code></td>
                        <td>Power BI Custom Visuals</td>
                        <td>‚úÖ Active</td>
                    </tr>
                    <tr>
                        <td>Support</td>
                        <td><code>func-terprint-communications</code></td>
                        <td>Azure Function</td>
                        <td>‚úÖ Active</td>
                    </tr>
                    <tr>
                        <td>Marketplace</td>
                        <td><code>terprint-marketplace-webhook</code></td>
                        <td>Azure Function (.NET)</td>
                        <td>‚úÖ Active</td>
                    </tr>
                </tbody>
            </table>
            
            <h3>Data Pipeline Flow</h3>
            <div class="diagram-container">
                <div class="mermaid">
sequenceDiagram
    participant Timer as ‚è∞ Timer (6 AM)
    participant MD as Menu Downloader
    participant Blob as üíæ Blob Storage
    participant BP as Batch Processor
    participant KQL as üìä Event House
    participant Web as üåê Website
    participant AI as ü§ñ AI Services
    
    Timer->>MD: Trigger daily download
    MD->>MD: Fetch from dispensary APIs
    MD->>Blob: Store raw JSON
    MD->>BP: HTTP trigger
    BP->>Blob: Read raw data
    BP->>BP: Extract COA data
    BP->>BP: Normalize & fingerprint
    BP->>KQL: Ingest processed data
    KQL-->>Web: Query for display
    KQL-->>AI: Query for recommendations
    Web->>AI: User queries
    AI-->>Web: AI responses
                </div>
            </div>
        </section>
        
        <!-- Technology Stack -->
        <section id="tech-stack">
            <h2><span class="icon">‚ö°</span> Technology Stack</h2>
            
            <h3>Required Technologies (Enterprise Standard)</h3>
            <table>
                <thead>
                    <tr>
                        <th>Category</th>
                        <th>Technology</th>
                        <th>Version</th>
                        <th>Purpose</th>
                    </tr>
                </thead>
                <tbody>
                    <tr>
                        <td>Cloud</td>
                        <td>Microsoft Azure</td>
                        <td>-</td>
                        <td>Primary cloud platform</td>
                    </tr>
                    <tr>
                        <td>Language</td>
                        <td>Python</td>
                        <td>3.12</td>
                        <td>Azure Functions, data processing, AI</td>
                    </tr>
                    <tr>
                        <td>Language</td>
                        <td>.NET</td>
                        <td>8.0</td>
                        <td>Web apps, enterprise services</td>
                    </tr>
                    <tr>
                        <td>Infrastructure</td>
                        <td>Bicep</td>
                        <td>latest</td>
                        <td>Infrastructure as Code</td>
                    </tr>
                    <tr>
                        <td>Scripting</td>
                        <td>PowerShell</td>
                        <td>7.x</td>
                        <td>Automation scripts</td>
                    </tr>
                    <tr>
                        <td>DevOps</td>
                        <td>Azure DevOps</td>
                        <td>-</td>
                        <td>CI/CD, repos, boards</td>
                    </tr>
                    <tr>
                        <td>Auth</td>
                        <td>Azure Entra ID</td>
                        <td>-</td>
                        <td>Identity & access management</td>
                    </tr>
                    <tr>
                        <td>Secrets</td>
                        <td>Azure Key Vault</td>
                        <td>-</td>
                        <td>Secrets management</td>
                    </tr>
                    <tr>
                        <td>Monitoring</td>
                        <td>Application Insights</td>
                        <td>-</td>
                        <td>Telemetry & diagnostics</td>
                    </tr>
                </tbody>
            </table>
            
            <h3>Azure Services Used</h3>
            <div class="cards-grid">
                <div class="card">
                    <h4>‚ö° Compute</h4>
                    <ul>
                        <li>Azure Functions (serverless)</li>
                        <li>App Service (web apps)</li>
                        <li>Static Web Apps</li>
                        <li>Container Apps</li>
                    </ul>
                </div>
                <div class="card">
                    <h4>üíæ Data</h4>
                    <ul>
                        <li>Blob Storage</li>
                        <li>Azure SQL</li>
                        <li>Event House (Kusto)</li>
                        <li>Redis Cache</li>
                    </ul>
                </div>
                <div class="card">
                    <h4>ü§ñ AI</h4>
                    <ul>
                        <li>Azure OpenAI (GPT-4)</li>
                        <li>Azure AI Search</li>
                        <li>Cognitive Services</li>
                    </ul>
                </div>
                <div class="card">
                    <h4>üîê Security</h4>
                    <ul>
                        <li>Entra ID</li>
                        <li>Key Vault</li>
                        <li>Managed Identities</li>
                        <li>Private Endpoints</li>
                    </ul>
                </div>
            </div>
            
            <h3>App-to-App Authentication</h3>
            <div class="diagram-container">
                <div class="mermaid">
sequenceDiagram
    participant App1 as Calling Service
    participant MI as Managed Identity
    participant Entra as Entra ID
    participant App2 as Target Service
    
    App1->>MI: Request token for App2
    MI->>Entra: Client credentials flow
    Entra-->>MI: JWT token (audience: App2)
    MI-->>App1: Bearer token
    App1->>App2: API call + Bearer token
    App2->>App2: Validate token<br/>(audience, issuer, scopes)
    App2-->>App1: Response
                </div>
            </div>
        </section>
        
        <!-- DevOps -->
        <section id="devops">
            <h2><span class="icon">üîß</span> DevOps & CI/CD</h2>
            
            <h3>Repository Structure</h3>
            <div class="diagram-container">
                <div class="mermaid">
graph TB
    subgraph Config["üéØ Configuration Hub"]
        TC[terprint-config<br/>Enterprise Config Package]
    end
    
    subgraph Pipeline["‚öôÔ∏è CI/CD Orchestration"]
        TP[terprint-pipeline<br/>Build & Deploy Templates]
    end
    
    subgraph Core["üì¶ Core (6 repos)"]
        C1[terprint-config]
        C2[Terprint.Web]
        C3[Terprint.Tests]
        C4[terprint-logger]
    end
    
    subgraph AI["ü§ñ AI Services (5 repos)"]
        A1[terprint-ai-chat]
        A2[terprint-ai-recommender]
        A3[terprint-ai-deals]
        A4[terprint-ai-lab]
        A5[terprint-ai-health]
    end
    
    subgraph Data["üìä Data Processing (3 repos)"]
        D1[terprint-menudownloader]
        D2[terprint-batch-processor]
        D3[terprint-coa-extractor]
    end
    
    subgraph Support["üîå Support (3 repos)"]
        S1[func-terprint-communications]
        S2[terprint-metering]
        S3[terprint-marketplace-webhook]
    end
    
    TC --> Core
    TC --> AI
    TC --> Data
    TC --> Support
    TP --> Core
    TP --> AI
    TP --> Data
    TP --> Support
                </div>
            </div>
            
            <h3>Build Pipeline Phases</h3>
            <div class="timeline">
                <div class="timeline-item">
                    <h4>Phase 1: Core Libraries</h4>
                    <p>terprint-config, terprint-logger, Terprint (core library)</p>
                </div>
                <div class="timeline-item">
                    <h4>Phase 2: Data Layer</h4>
                    <p>terprint-data, terprint-python, menu downloader</p>
                </div>
                <div class="timeline-item">
                    <h4>Phase 3: AI Services</h4>
                    <p>terprint-ai-chat, recommender, deals, lab, health</p>
                </div>
                <div class="timeline-item">
                    <h4>Phase 4: Integration</h4>
                    <p>metering, communications, batch processor</p>
                </div>
                <div class="timeline-item">
                    <h4>Phase 5: Marketplace</h4>
                    <p>marketplace-webhook, Terprint.Web, deployment</p>
                </div>
            </div>
            
            <h3>Environments</h3>
            <table>
                <thead>
                    <tr>
                        <th>Environment</th>
                        <th>Trigger</th>
                        <th>Approval</th>
                        <th>Purpose</th>
                    </tr>
                </thead>
                <tbody>
                    <tr>
                        <td>Development</td>
                        <td>Automatic on PR merge</td>
                        <td>None</td>
                        <td>Feature testing</td>
                    </tr>
                    <tr>
                        <td>Staging</td>
                        <td>Automatic after dev</td>
                        <td>None</td>
                        <td>Integration testing</td>
                    </tr>
                    <tr>
                        <td>Production</td>
                        <td>Manual promotion</td>
                        <td>Required</td>
                        <td>Live customers</td>
                    </tr>
                </tbody>
            </table>
        </section>
        
        <!-- Governance -->
        <section id="governance">
            <h2><span class="icon">üìã</span> Governance Framework</h2>
            
            <h3>CMMI Level 3 Alignment</h3>
            <p style="margin-bottom: 20px;">
                Target: CMMI Level 3 (Defined) - Standardized processes across the organization with quantitative process management.
            </p>
            
            <div class="cards-grid">
                <div class="card">
                    <h4>üìù Requirements Management</h4>
                    <p>Azure DevOps work items with area paths, epics, features, and user stories following standard templates.</p>
                </div>
                <div class="card">
                    <h4>‚öôÔ∏è Project Planning</h4>
                    <p>Sprint planning with velocity tracking, capacity management, and iteration paths.</p>
                </div>
                <div class="card">
                    <h4>üîç Quality Assurance</h4>
                    <p>Code review required, minimum 80% coverage, automated testing in CI/CD pipeline.</p>
                </div>
                <div class="card">
                    <h4>üìä Process Measurement</h4>
                    <p>DORA metrics tracking: deployment frequency, lead time, MTTR, change failure rate.</p>
                </div>
            </div>
            
            <h3>Key Performance Indicators</h3>
            <table>
                <thead>
                    <tr>
                        <th>Metric</th>
                        <th>Target</th>
                        <th>Current</th>
                    </tr>
                </thead>
                <tbody>
                    <tr>
                        <td>Deployment Frequency</td>
                        <td>2-3 per week</td>
                        <td>‚úÖ On target</td>
                    </tr>
                    <tr>
                        <td>Lead Time for Changes</td>
                        <td>&lt; 4 hours</td>
                        <td>‚úÖ On target</td>
                    </tr>
                    <tr>
                        <td>Change Failure Rate</td>
                        <td>&lt; 5%</td>
                        <td>‚úÖ On target</td>
                    </tr>
                    <tr>
                        <td>Mean Time to Recovery</td>
                        <td>&lt; 2 hours</td>
                        <td>‚úÖ On target</td>
                    </tr>
                    <tr>
                        <td>Code Coverage</td>
                        <td>&gt; 80%</td>
                        <td>‚ö†Ô∏è 75%</td>
                    </tr>
                    <tr>
                        <td>System Uptime</td>
                        <td>99.9%</td>
                        <td>‚úÖ 99.95%</td>
                    </tr>
                </tbody>
            </table>
            
            <h3>Security Policies</h3>
            <ul>
                <li><strong>Authentication:</strong> All services use Managed Identities - no secrets in code</li>
                <li><strong>Secrets:</strong> Azure Key Vault with rotation policies</li>
                <li><strong>Encryption:</strong> TLS 1.2+ in transit, encrypted at rest</li>
                <li><strong>Access Control:</strong> RBAC with principle of least privilege</li>
                <li><strong>Scanning:</strong> Dependency scanning, SAST in CI pipeline</li>
                <li><strong>Audit:</strong> Azure Activity Logs, compliance reporting</li>
            </ul>
        </section>
        
        <footer>
            <p class="copyright">¬© 2025 Acidni, LLC - All Rights Reserved</p>
            <p>Architecture Documentation v2.1 | Last Updated: December 2025</p>
            <p style="margin-top: 15px;">
                <a href="https://acidni.com" style="color: var(--accent-primary);">acidni.com</a> |
                <a href="https://terprint.com" style="color: var(--accent-primary);">terprint.com</a>
            </p>
        </footer>
    </div>
    
    <script>
        // Initialize Mermaid
        mermaid.initialize({
            startOnLoad: true,
            theme: 'dark',
            themeVariables: {
                primaryColor: '#00d4ff',
                primaryTextColor: '#ffffff',
                primaryBorderColor: '#7c3aed',
                lineColor: '#b0b0c0',
                secondaryColor: '#1a1a2e',
                tertiaryColor: '#16213e',
                background: '#0f0f1a',
                mainBkg: '#1a1a2e',
                secondBkg: '#16213e',
                border1: '#2a2a4a',
                border2: '#7c3aed',
                arrowheadColor: '#00d4ff',
                fontFamily: 'Inter, Segoe UI, sans-serif',
                fontSize: '14px',
                textColor: '#ffffff',
                actorTextColor: '#ffffff',
                actorLineColor: '#b0b0c0'
            },
            flowchart: {
                useMaxWidth: true,
                htmlLabels: true,
                curve: 'basis'
            },
            sequence: {
                useMaxWidth: true,
                boxMargin: 10,
                mirrorActors: false
            }
        });
        
        // Smooth scrolling for navigation
        document.querySelectorAll('nav a').forEach(link => {
            link.addEventListener('click', function(e) {
                e.preventDefault();
                const targetId = this.getAttribute('href').substring(1);
                const targetSection = document.getElementById(targetId);
                if (targetSection) {
                    targetSection.scrollIntoView({ behavior: 'smooth' });
                }
                
                // Update active state
                document.querySelectorAll('nav a').forEach(a => a.classList.remove('active'));
                this.classList.add('active');
            });
        });
    </script>
</body>
</html>
